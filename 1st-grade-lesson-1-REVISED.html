<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 1: Word Building Fun - BedrockELA</title>
    <link rel="stylesheet" href="css/lesson-viewer.css">
</head>
<body class="lesson-viewer">
    <div id="lesson-container" class="lesson-container">
        <!-- Navigation will be inserted here -->
    </div>

    <script>
        const pages = [
        `<div class="lesson-page-card title-page">
    <h1>Lesson 1</h1>
    <div class="subtitle">Word Building Fun</div>
    <p style="color: #5B7C99; font-size: 18px; margin-top: 20px;">
      The -AT Word Family<br>The Enormous Turnip - Part 1
    </p>
  </div>`,

        `<div class="lesson-page-card content-page">
    <h2>ğŸ¯ Today You Will...</h2>
    <div style="text-align: left; max-width: 500px; margin: 20px auto;">
      <p style="margin: 15px 0; font-size: 18px;">âœ“ Learn: <strong>-at (cat, mat, sat, bat, rat, hat)</strong></p>
      <p style="margin: 15px 0; font-size: 18px;">âœ“ Practice sight words: <strong>the, a, is</strong></p>
      <p style="margin: 15px 0; font-size: 18px;">âœ“ Read: <strong>The Enormous Turnip - Part 1</strong></p>
      <p style="margin: 15px 0; font-size: 18px;">âœ“ Build reading skills!</p>
    </div>
  </div>`,

        `<div class="lesson-page-card content-page">
    <h2>ğŸ“ Today's Skill</h2>
    <p style="font-size: 18px; margin-bottom: 20px;">Let's practice: <strong>-at (cat, mat, sat, bat, rat, hat)</strong></p>
    <div style="font-size: 32px; margin: 30px 0; color: #305853; line-height: 1.8;">
      <div style="margin: 20px 0; padding: 30px; background: #f0f8ff; border-radius: 15px;">
        Practice and learn!
      </div>
    </div>
    <p style="font-size: 16px; color: #666; margin-top: 20px;">Take your time!</p>
  </div>`,

        `<div class="lesson-page-card content-page">
    <h2>ğŸ‘€ Sight Words</h2>
    <p style="font-size: 18px; margin-bottom: 30px;">Learn to read these words instantly!</p>
    <div style="padding: 40px; background: #fff4e6; border-radius: 20px; font-size: 48px; font-weight: bold; color: #305853; max-width: 600px; margin: 30px auto; line-height: 1.6;">
      the, a, is
    </div>
    <p style="font-size: 16px; color: #666; margin-top: 20px;">Practice reading them fast!</p>
  </div>`,

        `<div class="lesson-page-card content-page" style="padding: 20px;">
    <h2 style="margin-bottom: 20px;">ğŸ“– Story Time</h2>
    <div id="story-book-container"></div>
  </div>`,

        `<div class="lesson-page-card content-page">
    <h2>âœï¸ Practice Time</h2>
    <div style="text-align: center; max-width: 600px; margin: 20px auto;">
      <p style="font-size: 18px; margin-bottom: 20px;">Practice with today's words!</p>
      
      <div style="padding: 20px; background: #e8f5e9; border-radius: 10px; margin: 20px 0;">
        <h3 style="color: #305853; margin: 0 0 15px 0;">Your Words</h3>
        <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 12px; margin: 15px 0;">
          <span style="display: inline-block; padding: 10px 20px; background: white; border: 2px solid #B06821; border-radius: 8px; font-size: 20px; font-weight: 600; color: #305853;">cat</span><span style="display: inline-block; padding: 10px 20px; background: white; border: 2px solid #B06821; border-radius: 8px; font-size: 20px; font-weight: 600; color: #305853;">mat</span><span style="display: inline-block; padding: 10px 20px; background: white; border: 2px solid #B06821; border-radius: 8px; font-size: 20px; font-weight: 600; color: #305853;">sat</span><span style="display: inline-block; padding: 10px 20px; background: white; border: 2px solid #B06821; border-radius: 8px; font-size: 20px; font-weight: 600; color: #305853;">bat</span><span style="display: inline-block; padding: 10px 20px; background: white; border: 2px solid #B06821; border-radius: 8px; font-size: 20px; font-weight: 600; color: #305853;">rat</span><span style="display: inline-block; padding: 10px 20px; background: white; border: 2px solid #B06821; border-radius: 8px; font-size: 20px; font-weight: 600; color: #305853;">hat</span><span style="display: inline-block; padding: 10px 20px; background: white; border: 2px solid #B06821; border-radius: 8px; font-size: 20px; font-weight: 600; color: #305853;">the</span><span style="display: inline-block; padding: 10px 20px; background: white; border: 2px solid #B06821; border-radius: 8px; font-size: 20px; font-weight: 600; color: #305853;">a</span><span style="display: inline-block; padding: 10px 20px; background: white; border: 2px solid #B06821; border-radius: 8px; font-size: 20px; font-weight: 600; color: #305853;">is</span>
        </div>
      </div>
      
      <div style="text-align: left; padding: 20px; background: #fff3e0; border-radius: 10px; margin: 15px 0;">
        <p style="margin: 10px 0; font-size: 16px;">ğŸ“– <strong>Read</strong> each word out loud</p>
        <p style="margin: 10px 0; font-size: 16px;">âœï¸ <strong>Write</strong> them in your notebook</p>
        <p style="margin: 10px 0; font-size: 16px;">ğŸ’¬ <strong>Use</strong> them in sentences</p>
        <p style="margin: 10px 0; font-size: 16px;">ğŸ” <strong>Find</strong> them in your story</p>
      </div>
    </div>
  </div>`,

        `<div class="lesson-page-card content-page">
    <h2>âœ… Great Job!</h2>
    <div class="completion-badge">Lesson 1 Complete!</div>
    <p style="font-size: 18px; margin: 30px 0;">You learned:</p>
    <div style="text-align: left; max-width: 400px; margin: 20px auto;">
      <p style="margin: 10px 0;">âœ“ -at (cat, mat, sat, bat, rat, hat)</p>
      <p style="margin: 10px 0;">âœ“ Sight words: the, a, is</p>
      <p style="margin: 10px 0;">âœ“ Read: The Enormous Turnip - Part 1</p>
      <p style="margin: 10px 0;">âœ“ You're getting better every day!</p>
    </div>
    <p style="font-size: 16px; color: #666; margin-top: 30px;">Ready for Lesson 2! ğŸ‰</p>
  </div>`
        ];

        let currentPage = 0;

        function renderPage() {
            const container = document.getElementById('lesson-container');
            
            const nav = `
                <div class="lesson-nav">
                    <button class="nav-arrow" onclick="prevPage()" ${currentPage === 0 ? 'disabled' : ''}>â†</button>
                    <span class="page-number">Page ${currentPage + 1} of ${pages.length}</span>
                    <button class="nav-arrow" onclick="nextPage()" ${currentPage === pages.length - 1 ? 'disabled' : ''}>â†’</button>
                </div>
            `;

            const content = `
                <div class="lesson-content">
                    ${pages[currentPage]}
                </div>
            `;

            container.innerHTML = content + nav;
        }

        function showCompletionModal() {
            const modal = document.createElement('div');
            modal.className = 'completion-modal';
            modal.innerHTML = `
                <div class="completion-modal-overlay" onclick="closeModal()"></div>
                <div class="completion-modal-content">
                    <h2>ğŸ‰ Lesson Complete!</h2>
                    <p>Great job finishing Lesson 1!</p>
                    <div class="completion-modal-buttons">
                        <button class="modal-btn modal-btn-primary" onclick="goToNextLesson()">Continue to Lesson 2 â†’</button>
                        <button class="modal-btn modal-btn-secondary" onclick="goToDashboard()">Back to Dashboard</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function closeModal() {
            const modal = document.querySelector('.completion-modal');
            if (modal) modal.remove();
        }

        function goToNextLesson() {
            window.location.href = '1st-grade-lesson-2-REVISED.html';
        }

        function goToDashboard() {
            window.location.href = 'student-dashboard.html';
        }

        function nextPage() {
            if (currentPage < pages.length - 1) {
                currentPage++;
                renderPage();
                window.scrollTo(0, 0);
            } else {
                showCompletionModal();
            }
        }

        function prevPage() {
            if (currentPage > 0) {
                currentPage--;
                renderPage();
                window.scrollTo(0, 0);
            }
        }

        renderPage();
    </script>
    
    <script src="js/digital-book.js?v=3"></script>
    <script>
        // Initialize digital book for story page
        const storyBookConfig = {"title":"The Enormous Turnip - Part 1","subtitle":"Lesson 1","pages":[{"text":"A man planted a turnip. The turnip grew and grew. It was enormous!"},{"text":"\"I will pull up the turnip,\" said the man. He pulled and pulled. But the turnip did not come up."},{"text":"The man called his wife. \"Come help me pull the turnip!\" Together they pulled and pulled. But the turnip did not come up."}]};
        
        // Watch for when story page is displayed
        const observer = new MutationObserver(() => {
            const container = document.getElementById('story-book-container');
            if (container && !container.hasChildNodes()) {
                initDigitalBook('story-book-container', storyBookConfig);
                observer.disconnect();
            }
        });
        
        observer.observe(document.body, { childList: true, subtree: true });
    </script>
</body>
</html>