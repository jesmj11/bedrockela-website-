<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 1: Short Vowel Valley - BedrockELA</title>
    <link rel="stylesheet" href="css/lesson-viewer.css">
    <link rel="stylesheet" href="css/digital-book-v2.css">
    <link rel="stylesheet" href="css/letter-explorer.css">
    <link rel="stylesheet" href="css/flashcard-game.css">
</head>
<body class="lesson-viewer">
    <div id="lesson-container" class="lesson-container"></div>

    <script src="js/lesson-viewer.js"></script>
    <script src="js/digital-book-v2.js"></script>
    <script src="js/letter-explorer.js"></script>
    <script src="js/flashcard-game.js"></script>
    
    <script>
        const lesson1Config = {
            lessonId: '1st-grade-lesson-1',
            gradeLevel: '1st-grade',
            title: 'Lesson 1: Short Vowel Valley',
            pages: [
                {
    render: () => `
      <div class="lesson-page-card title-page">
        <div class="character">üêê</div>
        <h1>Lesson 1</h1>
        <div class="subtitle">Meet Billy and Learn About Vowels!</div>
        <p style="color: #B06821; font-size: 18px; margin-top: 20px;">
          Meet Billy the Goat!<br>
          He'll help you learn all about phonics!
        </p>
      </div>
    `
  },
                {
      render: () => `
        <div class="lesson-page-card content-page" style="text-align: center;">
          <h2>What are Vowels?</h2>
          <p>Every word needs a vowel! Vowels are special letters that make sounds in the middle of words.</p>
          <div style="text-align: center; font-size: 48px; margin: 30px 0;">A E I O U</div>
          <p><strong>These are the vowel letters!</strong> Each one makes its own sound.</p>
        </div>
      `
    },
                {
      render: () => `
        <div class="lesson-page-card content-page" style="text-align: center;">
          <h2>A says 'ah'</h2>
          <div style="text-align: center; font-size: 72px; margin: 20px 0; color: #B06821;">A</div>
          <p style="font-size: 24px; text-align: center;"><strong>A says "ah" like in cat</strong></p>
          <p>Try saying these words: <strong>cat, hat, mat, pan, ran</strong></p>
        </div>
      `
    },
                {
      render: () => `
        <div class="lesson-page-card content-page" style="text-align: center;">
          <h2>E says 'eh'</h2>
          <div style="text-align: center; font-size: 72px; margin: 20px 0; color: #B06821;">E</div>
          <p style="font-size: 24px; text-align: center;"><strong>E says "eh" like in bed</strong></p>
          <p>Try saying these words: <strong>bed, red, ten, pen, hen</strong></p>
        </div>
      `
    },
                {
      render: () => `
        <div class="lesson-page-card content-page" style="text-align: center;">
          <h2>I says 'ih'</h2>
          <div style="text-align: center; font-size: 72px; margin: 20px 0; color: #B06821;">I</div>
          <p style="font-size: 24px; text-align: center;"><strong>I says "ih" like in pig</strong></p>
          <p>Try saying these words: <strong>sit, pig, big, win, hit</strong></p>
        </div>
      `
    },
                {
      render: () => `
        <div class="lesson-page-card content-page" style="text-align: center;">
          <h2>O says 'ah'</h2>
          <div style="text-align: center; font-size: 72px; margin: 20px 0; color: #B06821;">O</div>
          <p style="font-size: 24px; text-align: center;"><strong>O says "ah" like in dog</strong></p>
          <p>Try saying these words: <strong>dog, hop, box, dot, hot</strong></p>
        </div>
      `
    },
                {
      render: () => `
        <div class="lesson-page-card content-page" style="text-align: center;">
          <h2>U says 'uh'</h2>
          <div style="text-align: center; font-size: 72px; margin: 20px 0; color: #B06821;">U</div>
          <p style="font-size: 24px; text-align: center;"><strong>U says "uh" like in bug</strong></p>
          <p>Try saying these words: <strong>bug, hug, cup, sun, run</strong></p>
        </div>
      `
    },
                {
      render: (progress, markComplete) => {
        return `
          <div class="lesson-page-card activity-section">
            <h2><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle; margin-right: 8px;">
        <path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"/>
      </svg>Story Time</h2>
            <p>Read the story with Billy!</p>
            ${progress.story_completed ? '<div class="completion-badge">‚úÖ Story Complete!</div>' : ''}
            <div id="story-book" class="digital-book-container" style="margin-top: 20px;"></div>
          </div>
        `;
      },
      onLoad: () => {
        fetch('book-data/three-billy-goats-gruff-lessons-1-10.json')
          .then(response => response.json())
          .then(bookConfig => {
            bookConfig.bookId = 'three-billy-goats-gruff-lessons-1-10';
            createDigitalBookV2('story-book', bookConfig, {
              maxPageIndex: 1,
              lessonNumber: 1,
              onComplete: () => {
                window.lessonMarkComplete('story');
              }
            });
          });
      }
    },
                {
    render: (progress, markComplete) => {
      return `
        <div class="lesson-page-card activity-section">
          <h2>Letter Explorer</h2>
          <p>Spell words by dragging letters!</p>
          ${progress.letter_explorer_completed ? '<div class="completion-badge">‚úÖ Game Complete!</div>' : ''}
          <div id="letter-explorer-game" class="letter-explorer-container" style="margin-top: 20px;"></div>
        </div>
      `;
    },
    onLoad: () => {
      createLetterExplorer('letter-explorer-game', {
        title: "Letter Explorer",
        subtitle: "Drag the letters to spell the word!",
        words: [{"word":"cat","emoji":"üê±","definition":"A small furry animal that purrs and says meow!","example":"The cat sat on the mat."},{"word":"bed","emoji":"üõèÔ∏è","definition":"A soft place where you sleep at night!","example":"I go to bed at 8 o'clock."},{"word":"pig","emoji":"üê∑","definition":"A pink farm animal that says oink!","example":"The pig rolls in the mud."},{"word":"dog","emoji":"üê∂","definition":"A friendly animal that barks!","example":"The dog loves to play fetch."},{"word":"sun","emoji":"‚òÄÔ∏è","definition":"The bright star in the sky!","example":"The sun is shining today."}]
      }, () => {
        window.lessonMarkComplete('letter-explorer');
      });
    }
  },
                {
    render: (progress, markComplete) => {
      return `
        <div class="lesson-page-card activity-section">
          <h2>üéÆ Match the Sounds!</h2>
          <p>Match letters with their sounds!</p>
          ${progress.flashcard_completed ? '<div class="completion-badge">‚úÖ Matches Complete!</div>' : ''}
          <div id="flashcard-game-container" style="margin-top: 20px;"></div>
        </div>
      `;
    },
    onLoad: () => {
      new FlashcardGame('flashcard-game-container', {
        title: "Match the Sounds!",
        subtitle: "Can you match the letters?",
        pairs: [{"term":"A","match":"Says \"ah\" like cat"},{"term":"E","match":"Says \"eh\" like bed"},{"term":"I","match":"Says \"ih\" like pig"},{"term":"O","match":"Says \"ah\" like dog"},{"term":"U","match":"Says \"uh\" like bug"}]
      }, () => {
        window.lessonMarkComplete('flashcard');
      });
    }
  },
                {
    render: (progress) => {
      const allComplete = progress.story_completed && 
                        progress.letter_explorer_completed && 
                        progress.flashcard_completed;
      return `
        <div class="lesson-page-card title-page">
          <div class="character">üéâ</div>
          <h1>Great Job!</h1>
          <div class="subtitle">You completed Lesson 1!</div>
          ${allComplete ? `
            <div class="completion-badge" style="margin: 30px auto;">
              ‚úÖ 100% Complete!
            </div>
            <p style="margin-top: 20px;">
              Billy is proud of you! You learned so much!
            </p>
          ` : `
            <p style="color: #B06821; margin-top: 20px;">
              Go back and complete all activities to finish this lesson!
            </p>
          `}
          <button 
            onclick="window.location.href='student-dashboard-live.html'" 
            class="nav-arrow"
            style="margin-top: 30px;"
          >
            Back to Dashboard
          </button>
        </div>
      `;
    }
  }
            ]
        };

        createLessonViewer('lesson-container', lesson1Config);
    </script>
</body>
</html>